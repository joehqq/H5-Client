{"version":3,"sources":["webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?efde","webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?e409","webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?4b35","webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?60d6","uni-app:///components/xiaoshaoxin-fileUploader/fileUploader.vue","webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?9f6e","webpack:///D:/work/h5/hk-h5/components/xiaoshaoxin-fileUploader/fileUploader.vue?def2"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AAC8K;AAC9K,gBAAgB,qLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgqB,CAAgB,8pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;ACaprB;AACA,gBADA;;AAGA,mDAHA;AAIA,MAJA,kBAIA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,kBAHA;AAIA,gBAJA;AAKA,mBALA;;AAOA,GAZA;AAaA;AACA;AACA;AACA;AACA,KAHA,EAdA;;AAmBA;AACA,SApBA,qBAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA;AACA,GAjCA;AAkCA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,cAJA,wBAIA;AACA;AACA,KANA;AAOA;AACA,aARA,uBAQA;AACA;AACA,KAVA;AAWA;AACA,UAZA,oBAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAFA,CAEA;AACA,WAHA;AAIA,SARA,MAQA;AACA;AACA;AACA;AACA,KArCA;AAsCA;AACA,aAvCA,qBAuCA,IAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,mCAFA;AAGA,oBAHA;AAIA,+BAJA;AAKA;AACA;AACA;AACA;AACA,SATA;AAUA;AACA;AACA,yBADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA,SAhBA;;AAkBA,KA9DA;AA+DA;AACA,WAhEA,qBAgEA;AACA,iDADA,CACA;AACA;AACA;AACA;AACA;AACA,KAtEA,EAlCA,E;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAy8B,CAAgB,m6BAAG,EAAC,C;;;;;;;;;;;ACA79B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/xiaoshaoxin-fileUploader/fileUploader.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./fileUploader.vue?vue&type=template&id=772a0bb2&\"\nvar renderjs\nimport script from \"./fileUploader.vue?vue&type=script&lang=js&\"\nexport * from \"./fileUploader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fileUploader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/xiaoshaoxin-fileUploader/fileUploader.vue\"\nexport default component.exports","export * from \"-!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fileUploader.vue?vue&type=template&id=772a0bb2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fileUploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fileUploader.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"app\">\r\n\t\t<view v-if=\"showfile\" class=\"file\">\r\n\t\t\t<label class=\"filename\">{{filename}}</label>\r\n\t\t\t<label class=\"del\" @tap=\"delfile\">删除</label>\r\n\t\t</view>\r\n\t\t<view ref=\"input\" class=\"input\">\r\n\t\t</view>\r\n\t\t<button class=\"btn\" type=\"primary\" @tap=\"uploadBtn\">上传文件</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t},\r\n\t\tprops: [\"uploadfileUrl\", \"limitsize\",\"formData\"],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowfile: false,\r\n\t\t\t\tfilename: 'xxx',\r\n\t\t\t\tfileinfo: {},\r\n\t\t\t\twjdata:'',\r\n\t\t\t\tfilepaths: []\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 计算属性\r\n\t\tcomputed: {\r\n\t\t\tsize: function() {\r\n\t\t\t\treturn this.limitsize / 1024;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// mounted 页面初始化的方法\r\n\t\tmounted() {\r\n\t\t\tvar input = document.createElement('input')\r\n\t\t\tinput.type = 'file'\r\n\t\t\t// input.accept =  '.zip'\r\n\t\t\tinput.style.display = 'none'\r\n\t\t\tinput.id = 'file'\r\n\t\t\tinput.onchange = (event) => {\r\n\t\t\t\t// 上传附件 获取文件信息\r\n\t\t\t\tthis.fileinfo = event.target.files[0];\r\n\t\t\t\t// console.log(\"文件信息\", this.fileinfo);\r\n\t\t\t\tthis.upload();\r\n\t\t\t}\r\n\t\t\tthis.$refs.input.$el.appendChild(input);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenPopup() {\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tclosePopup() {\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\t// 上传附件按钮 绑定file的点击事件\r\n\t\t\tuploadBtn() {\r\n\t\t\t\treturn document.getElementById(\"file\").click();\r\n\t\t\t},\r\n\t\t\t// 上传附件\r\n\t\t\tupload() {\r\n\t\t\t\tlet this_ = this;\r\n\t\t\t\tconsole.info(\"此文件信息\",this_.fileinfo);\r\n\t\t\t\t// 校验文件大小\r\n\t\t\t\tlet size = this_.fileinfo.size;\r\n\t\t\t\tif (size > this_.filesize) {\r\n\t\t\t\t\tthis_.openPopup();\r\n\t\t\t\t\tdocument.getElementById(\"file\").value = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 显示文件名和删除\r\n\t\t\t\t\tthis_.showfile = true;\r\n\t\t\t\t\tthis_.filename = this_.fileinfo.name;\r\n\t\t\t\t\t// 上传api\r\n\t\t\t\t\tif (this_.uploadfileUrl) {\r\n\t\t\t\t\t\t// 转换文件路径--异步操作\r\n\t\t\t\t\t\tvar reader = new FileReader();\r\n\t\t\t\t\t\treader.readAsDataURL(this_.fileinfo);\r\n\t\t\t\t\t\treader.onload = function(e) {\r\n\t\t\t\t\t\t\t// console.log(e.target.result);\r\n\t\t\t\t\t\t\tthis_.uploadAPI(e.target.result);//上传接口\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.info(\"无路径\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 上传接口api\r\n\t\t\tuploadAPI(path){\r\n\t\t\t\tconst that =this\r\n\t\t\t\t// console.info(path);\r\n\t\t\t\tthis.filepaths.push(path);\r\n\t\t\t\t// console.info(\"uploadfileUrl:\",this.uploadfileUrl,\"filePath:\",this.filepaths,\"formData:\",this.formData);\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: this.uploadfileUrl,\r\n\t\t\t\t\tfilePath:this.filepaths[0],\r\n\t\t\t\t\tname:'file',\r\n\t\t\t\t\tformData:this.formData,\r\n\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t//上传成功\r\n\t\t\t\t\t\t// .imgSuccess(e)\r\n\t\t\t\t\t\t  that.$emit(\"fileSuccess\",e)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '上传失败',\r\n\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除附件\r\n\t\t\tdelfile() {\r\n\t\t\t\tdocument.getElementById(\"file\").value = ''; //注意清空file,否则不能上传同一个文件\r\n\t\t\t\tconsole.log(111111)\r\n\t\t\t\t  this.$emit(\"updateImgList\")\r\n\t\t\t\tthis.showfile = false;\r\n\t\t\t\tthis.filename = '';\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.file {\r\n\t\tmargin-top: 20rpx;\r\n\t\tfont-size: 26upx;\r\n\t\twidth: 100%;\r\n\t\t    justify-content: space-between;\r\n\t\t    display: flex;\r\n\t}\r\n\r\n\t.filename {\r\n\t\tcolor: #808080;\r\n\t}\r\n\r\n\t.del {\r\n\t\tcolor: #0E90CE;\r\n\t\tfloat: right;\r\n\t}\r\n\t.app{\r\n\t\twidth: 100%;\r\n\t\tpadding-bottom: 0px !important;\r\n\t}\r\n\t.btn {\r\n\t\twidth: 100%;\r\n\t\tmargin: 20upx 0;\r\n\t\tcolor: #007AFF;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder: #007AFF 2upx solid;\r\n\t\tfont-size: 24rpx !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fileUploader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../program/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./fileUploader.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597973167281\n      var cssReload = require(\"D:/program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}